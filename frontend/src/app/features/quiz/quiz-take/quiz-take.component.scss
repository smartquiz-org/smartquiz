.quiz-take-container {
  @apply min-h-screen;
}

// Loading & Error
.loading-state,
.error-state {
  @apply py-16 text-center;
}

// Quiz Interface
.quiz-interface {
  @apply flex flex-col min-h-screen;
}

// Header
.quiz-header {
  @apply flex items-center justify-between px-4 py-3 sticky top-0 z-40;
  background: var(--card);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(16px);
}

.header-left {
  @apply flex items-center gap-3;
}

.quiz-title {
  @apply text-lg font-semibold text-text-primary truncate max-w-xs;
}

.mode-badge {
  @apply text-xs px-2 py-1 rounded-full font-medium;

  &.training {
    background: rgba(139, 92, 246, 0.2);
    color: var(--primary);
  }

  &.exam {
    background: rgba(245, 158, 11, 0.2);
    color: var(--warning);
  }
}

.header-right {
  @apply flex items-center gap-4;
}

.timer {
  @apply flex items-center gap-2 px-3 py-1.5 rounded-xl text-text-primary font-mono;
  background: var(--surface-variant);

  &.critical {
    background: rgba(239, 68, 68, 0.2);
    color: var(--error);
    @apply animate-pulse;
  }
}

.timer-icon {
  @apply w-5 h-5;
}

.timer-value {
  @apply text-lg font-bold;
}

.quit-button {
  @apply p-2 rounded-xl text-text-secondary transition-colors;
  &:hover {
    background: var(--surface-variant);
    color: var(--text-primary);
  }
}

.quit-icon {
  @apply w-5 h-5;
}

// Progress
.progress-container {
  @apply px-4 py-3;
  background: var(--card);
  border-bottom: 1px solid var(--border);
}

.progress-bar {
  @apply w-full h-2 rounded-full overflow-hidden;
  background: var(--surface-variant);
}

.progress-fill {
  @apply h-full rounded-full transition-all duration-300 ease-out;
  background: linear-gradient(90deg, #8B5CF6, #6366F1);
}

.progress-text {
  @apply text-sm text-text-secondary text-center mt-2;
}

// Question Section
.question-section {
  @apply flex-1 p-4 max-w-3xl mx-auto w-full;
}

.question-header {
  @apply flex items-center gap-3 mb-4;
}

.question-number {
  @apply text-sm font-medium text-text-secondary;
}

.question-points {
  @apply text-sm ml-auto;
  color: var(--primary);
}

.question-content {
  @apply mb-6;
}

.question-text {
  @apply text-xl text-text-primary leading-relaxed;
}

.question-image {
  @apply mt-4 max-w-full rounded-xl;
}

// Answers
.answers-container {
  @apply space-y-3;
}

.answer-hint {
  @apply text-sm text-text-secondary mb-3;
}

.answers-list {
  @apply space-y-3;
}

.answer-option {
  @apply w-full flex items-center gap-4 p-4 rounded-xl text-left transition-all duration-200;
  background: var(--card);
  border: 2px solid var(--border);
  
  &:hover:not(:disabled) {
    border-color: var(--primary);
    background: rgba(139, 92, 246, 0.05);
  }

  &.answer-selected {
    border-color: var(--primary);
    background: rgba(139, 92, 246, 0.1);
  }

  &.answer-correct {
    border-color: var(--success);
    background: rgba(34, 197, 94, 0.1);
  }

  &.answer-incorrect {
    border-color: var(--error);
    background: rgba(239, 68, 68, 0.1);
  }

  &:disabled {
    @apply cursor-not-allowed opacity-75;
  }
}

.answer-marker {
  @apply flex-shrink-0;
}

.checkbox,
.radio {
  @apply w-6 h-6 flex items-center justify-center transition-all duration-200;
  border: 2px solid var(--border);

  &.checked {
    border-color: var(--primary);
    background: linear-gradient(135deg, #8B5CF6, #6366F1);
  }
}

.checkbox {
  @apply rounded-lg;

  svg {
    @apply w-4 h-4 text-white;
  }
}

.radio {
  @apply rounded-full;
}

.radio-dot {
  @apply w-3 h-3 bg-white rounded-full;
}

.answer-text {
  @apply flex-1 text-text-primary;
}

.answer-image {
  @apply w-24 h-24 object-cover rounded-xl;
}

// Feedback
.feedback-section {
  @apply mt-6 pt-6 space-y-4;
  border-top: 1px solid var(--border);
}

.feedback-points {
  @apply ml-2 text-sm opacity-75;
}

.explanation {
  @apply p-4 rounded-xl;
  background: var(--surface-variant);
}

.explanation-title {
  @apply font-medium text-text-primary mb-2;
}

.explanation-text {
  @apply text-text-secondary;
}

// Footer Navigation
.quiz-footer {
  @apply flex items-center justify-between px-4 py-4 sticky bottom-0 z-40;
  background: var(--card);
  border-top: 1px solid var(--border);
  backdrop-filter: blur(16px);
}

.nav-left,
.nav-right {
  @apply flex items-center gap-3;
}

.nav-icon {
  @apply w-4 h-4;
}

.question-nav-toggle {
  @apply flex items-center gap-2 px-3 py-2 text-text-secondary rounded-xl transition-colors;
  &:hover {
    background: var(--surface-variant);
  }

  svg {
    @apply w-5 h-5;
  }
}

// Question Navigator Overlay
.question-nav-overlay {
  @apply fixed inset-0 z-50 flex items-end justify-center animate-fade-in;
  background-color: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
}

.question-nav-panel {
  @apply w-full max-w-lg rounded-t-2xl p-6 animate-slide-up;
  background: var(--card);
}

.nav-title {
  @apply text-lg font-semibold text-text-primary mb-4;
}

.question-grid {
  @apply grid grid-cols-8 gap-2;
}

.question-dot {
  @apply w-10 h-10 rounded-xl flex items-center justify-center text-sm font-medium transition-all duration-200;
  background: var(--surface-variant);
  color: var(--text-secondary);
  
  &:hover {
    background: rgba(139, 92, 246, 0.2);
    color: var(--primary);
  }

  &.current {
    background: linear-gradient(135deg, #8B5CF6, #6366F1);
    @apply text-white;
  }

  &.answered {
    background: rgba(34, 197, 94, 0.2);
    color: var(--success);
  }
}

.nav-legend {
  @apply flex items-center gap-4 mt-4 pt-4;
  border-top: 1px solid var(--border);
}

.legend-item {
  @apply flex items-center gap-2 text-xs text-text-secondary;
}

.dot {
  @apply w-3 h-3 rounded;
  background: var(--surface-variant);

  &.current {
    background: linear-gradient(135deg, #8B5CF6, #6366F1);
  }

  &.answered {
    background: rgba(34, 197, 94, 0.3);
  }
}
